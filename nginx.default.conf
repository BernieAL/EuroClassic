
#update version for https
server {
        listen 80;
        listen [::]:80;
        listen 443 ssl;
        listen [::]:443 ssl;
        server_name localhost;
        include /etc/nginx/ssl/ssl-params.conf;
        	  
	ssl_certificate /etc/nginx/ssl/fullchain.pem; 
        ssl_certificate_key /etc/nginx/ssl/server.key;

        root /usr/share/nginx/html;
        index index.html;
        error_page 500 502 503 504 /50x.html;

        location / {
                try_files $uri $uri/ /index.html;
                add_header Cache-Control "no-cache";
        }

        location /api {
                proxy_pass https://container_b:7777;
        }
        
        #this line causes problems
        #return 302 https://$server_name:443$request_uri;
}



