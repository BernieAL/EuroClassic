{% extends 'base.html' %}


{% block homeA %}
    

    <div class="container w-50">
        <h2>^^^^^This is coming from home template^^^^</h2>
        <br>
        <div class="jumbotron">
            <h1 class="display-5">Search for a classic</h1>
            <p class="lead">This is a simple hero unit, a simple jumbotron-style component for calling extra attention to featured content or information.</p>
            <hr class="my-4">
            <p>Enter Year, Make, and Model for price and sale data of your selected vehicle</p>
        </div>
          
         


          <form class="form-inline" action="/search" method="POST">
            <div class="input-group">
              
              <input class="form-control mr-sm-2"  name="Year" type="search" placeholder="Year" id="Year" aria-label="Search">
              
              <select onchange = "getModelsFromMake()" name="Make"class="form-control mr-sm-2" aria-placeholder="Make" id="Make">
                  <!-- NEED TO MAKE THESE DYNAMIC, FED IN FROM DB
                  https://stackoverflow.com/questions/32019733/getting-value-from-select-tag-using-flask -->
                  <option value="" disable selected>Make</option>
                    {% for i in makes_directory  %}
                      <option>{{i}}</option>
                    {% endfor %}
              </select>
              

              <!-- ADD AUTOCOMPLETE TO MODEL TYPING -->
              <!-- <input class="form-control mr-sm-2"  name="Model" type="search" placeholder="Model" id="Model" aria-label="Search"> -->
              <select name="Model"class="form-control mr-sm-2" aria-placeholder="Model" id="Model">
                  <!-- NEED TO MAKE THESE DYNAMIC, FED IN FROM DB, FILTERED BY YEAR AND MAKE -->
                  <option value="" disable selected>Model</option>
                  {% for i in models_directory  %}
                  <option>{{i}}</option>
                {% endfor %}
               </select>
              
               <input class="form-control mr-sm-2"  name="Chassis" type="search" placeholder="Chassis" id="Chassis" aria-label="Search">
               <!-- <select name="Chassis"class="form-control mr-sm-2" aria-placeholder="Chassis" id="Chassis"> -->
                  <!-- NEED TO MAKE THESE DYNAMIC, FED IN FROM DB, FILTERED BY YEAR AND MAKE -->
                  <!-- <option value="" disable selected>Chassis</option>
                  <option>2</option>
                  <option>3</option>
                  <option>4</option>
                  <option>5</option>
               </select> -->


            </div>
            
            <br>
            <button class="btn btn-success btn-lg" type="submit">Search</button>
            
          </form>

          


{% endblock homeA %}

{% block script %}
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" ></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>
<script>

  
// https://stackoverflow.com/questions/11178426/how-can-i-pass-data-from-flask-to-javascript-in-a-template
  const getModelsFromMake = ()=>{

    entered_make = document.querySelector('#Make')
    console.log(entered_make.value)
    
    
  }

  testFunc=()=>{
     all_entries = JSON.parse('{{ all_db_entries_array|safe }}')
     
     for(i in all_entries){
        
     }

  testFunc()
</script>



{% endblock script %}